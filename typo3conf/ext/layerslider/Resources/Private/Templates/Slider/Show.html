{namespace mru=MINAV\Layerslider\ViewHelpers}
<f:flashMessages />
<f:if condition="{tsincluded}">
    <f:then>
        <f:if condition="{slider.slides}">
            <div class="inner">
                <div id="layerslider-container">
                    <div id="layerslider-{slider.uid}" class="layerslider-{slider.uid}" style="width: {slider.options.width}; height: {slider.options.height};  margin: 0 auto;">
                        <f:for each="{slider.slides}" as="s" iteration="i">
                            <div class="ls-slide{f:if(condition: '{s.configuration.cssClass}', then:' {s.configuration.cssClass}')} ls-slider-{slider.uid}-slide-{s.uid}" style="" data-ls="{f:if(condition: '{s.configuration.deeplink}', then:'deeplink:{s.configuration.deeplink};')}{f:if(condition: '{s.configuration.slideDelay}', then:'slideDelay:{s.configuration.slideDelay};')}{f:if(condition: '{s.configuration.use2d3dtransition}', then:'transition2d: {s.configuration.2dtransition}; transition3d: {s.configuration.3dtransition};', else: '{f:if(condition:\'{s.configuration.slideIn}\', then:\'durationin: {s.configuration.slideIn};\')}{f:if(condition:\'{s.configuration.slideInEasing}\', then:\'easingin: {s.configuration.slideInEasing};\')}{f:if(condition:\'{s.configuration.delayIn}\', then:\'delayin: {s.configuration.delayIn};\')}{f:if(condition:\'{s.configuration.slideOut}\', then:\'durationout: {s.configuration.slideOut};\')}{f:if(condition:\'{s.configuration.slideOutEasing}\', then:\'easingout: {s.configuration.slideOutEasing};\')}{f:if(condition:\'{s.configuration.delayOut}\', then:\'delayout:{s.configuration.delayOut};\')}')}">
                                <f:if condition="{slider.usefal}">
                                    <f:then>
                                        <f:image src="{s.falimage.originalResource.originalFile.uid}" class="ls-bg" alt="{s.falimage.originalResource.alternative}" title="{s.falimage.originalResource.title}" />
                                    </f:then>
                                    <f:else>
                                        <img class="ls-bg" src="{f:uri.image(src:'uploads/tx_layerslider/{s.image}')}">
                                    </f:else>
                                </f:if>

                                    <f:for each="{s.items}" as="item">

                                        <f:if condition="{item.link}">
                                            <f:then>

                                                <mru:link.typolink parameter="{item.link}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" additionalAttributes="{data-ls:'{f:render(partial:\'Item/Layerattributes\', arguments:\'{item:item}\', section:\'data\')}', id:'layer-{item.slide.uid}-{item.uid}', style:'{f:render(partial:\'Item/Layerattributes\', arguments:\'{item:item}\', section:\'style\')}'}">
                                                    <f:if condition="{0:item.contenttype} == {0:'image'}">
                                                        <f:if condition="{slider.usefal}">
                                                            <f:then>
                                                                <f:image src="{item.falimage.originalResource.originalFile.uid}" style="{f:if(condition: '{item.configuration.width}', then:'width:{item.configuration.width}px;')}" alt="{item.falimage.originalResource.alternative}" title="{item.falimage.originalResource.title}"/>
                                                            </f:then>
                                                            <f:else>
                                                                <f:if condition="{item.content}">
                                                                    <img style="{f:if(condition: '{item.configuration.width}', then:'width:{item.configuration.width}px;')}" src="{f:uri.image(src:'uploads/tx_layerslider/{item.content}')}" alt="" title="" />
                                                                </f:if>
                                                            </f:else>
                                                        </f:if>
                                                    </f:if>
                                                    <f:if condition="{0:item.contenttype} == {0:'paragraph'}">
                                                        <p>{item.content}</p>
                                                    </f:if>

                                                    <f:if condition="{0:item.contenttype} == {0:'span'}">
                                                        <span>{item.content}</span>
                                                    </f:if>

                                                    <f:if condition="{0:item.contenttype} == {0:'h1'}">
                                                        <h1>{item.content}</h1>
                                                    </f:if>
                                                    <f:if condition="{0:item.contenttype} == {0:'h2'}">
                                                        <h2>{item.content}</h2>
                                                    </f:if>
                                                    <f:if condition="{0:item.contenttype} == {0:'h3'}">
                                                        <h3>{item.content}</h3>
                                                    </f:if>
                                                    <f:if condition="{0:item.contenttype} == {0:'h4'}">
                                                        <h4>{item.content}</h4>
                                                    </f:if>
                                                    <f:if condition="{0:item.contenttype} == {0:'h5'}">
                                                        <h5>{item.content}</h5>
                                                    </f:if>
                                                    <f:if condition="{0:item.contenttype} == {0:'h6'}">
                                                        <h6>{item.content}</h6>
                                                    </f:if>
                                                    <f:if condition="{0:item.contenttype} == {0:'html'}">
                                                        <div><f:format.html parseFuncTSPath="">{item.content}</f:format.html></div>
                                                    </f:if>
                                                </mru:link.typolink>

                                            </f:then>
                                            <f:else>
                                                <f:if condition="{0:item.contenttype} == {0:'image'}">
                                                    <f:if condition="{slider.usefal}">
                                                        <f:then>
                                                            <img id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}" src="{f:uri.image(src:'{item.falimage.originalResource.originalFile.uid}')}" alt="{item.falimage.originalResource.alternative}" title="{item.falimage.originalResource.title}" />
                                                        </f:then>
                                                        <f:else>
                                                            <f:if condition="{item.content}">
                                                                <img id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}" src="{f:uri.image(src:'uploads/tx_layerslider/{item.content}')}" alt="" title="" />
                                                            </f:if>
                                                        </f:else>
                                                    </f:if>
                                                </f:if>

                                                <f:if condition="{0:item.contenttype} == {0:'paragraph'}">
                                                    <p id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}">{item.content}</p>
                                                </f:if>

                                                <f:if condition="{0:item.contenttype} == {0:'span'}">
                                                    <span id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}">{item.content}</span>
                                                </f:if>

                                                <f:if condition="{0:item.contenttype} == {0:'h1'}">
                                                    <h1 id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}">{item.content}</h1>
                                                </f:if>
                                                <f:if condition="{0:item.contenttype} == {0:'h2'}">
                                                    <h2 id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}">{item.content}</h2>
                                                </f:if>
                                                <f:if condition="{0:item.contenttype} == {0:'h3'}">
                                                    <h3 id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}">{item.content}</h3>
                                                </f:if>
                                                <f:if condition="{0:item.contenttype} == {0:'h4'}">
                                                    <h4 id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}">{item.content}</h4>
                                                </f:if>
                                                <f:if condition="{0:item.contenttype} == {0:'h5'}">
                                                    <h5 id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}">{item.content}</h5>
                                                </f:if>
                                                <f:if condition="{0:item.contenttype} == {0:'h6'}">
                                                    <h6 id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}">{item.content}</h6>
                                                </f:if>
                                                <f:if condition="{0:item.contenttype} == {0:'html'}">
                                                    <div id="layer-{item.slide.uid}-{item.uid}" class="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'class')}" data-ls="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'data')}" style="{f:render(partial:'Item/Layerattributes', arguments:'{item:item}', section:'style')}"><f:format.html parseFuncTSPath="">{item.content}</f:format.html></div>
                                                </f:if>
                                            </f:else>
                                        </f:if>
                                    </f:for>

                                <f:if condition="{s.configuration.linkSlide}">
                                    <mru:link.typolink parameter="{s.configuration.linkSlide}" class="ls-link">&nbsp;</mru:link.typolink>
                                </f:if>

                            </div>
                        </f:for>
                    </div>
                </div>
            </div>
        </f:if>
        <script type="text/javascript">
            var LayersliderSliderUid = {slider.uid};
            if(typeof layersliderOptions == "undefined") {
                var layersliderOptions = new Object();
            }
            layersliderOptions[LayersliderSliderUid] = new Object();
            layersliderOptions[LayersliderSliderUid] = {
                        skinsPath: <f:if condition="{slider.options.skinsPath}"><f:then>"{slider.options.skinsPath}"</f:then><f:else>"{f:uri.resource(path:'skins/')}"
            </f:else></f:if>,
            <f:if condition="{slider.options.skin}">skin : "{slider.options.skin}",</f:if>
            <f:if condition="{slider.options.firstLayer}">firstSlide : "{slider.options.firstLayer}",</f:if>
            <f:if condition="{slider.options.autoPlayVideos}"><f:then>autoPlayVideos : true,</f:then><f:else>autoPlayVideos : false,</f:else></f:if>
            <f:if condition="{slider.options.autoPauseSlideshow}"><f:if condition="{0: slider.options.autoPauseSlideshow} == {0:'auto'}"><f:then>autoPauseSlideshow: 'auto',</f:then><f:else>autoPauseSlideshow: {slider.options.autoPauseSlideshow},</f:else></f:if></f:if>
            <f:if condition="{slider.options.youtubePreview}">youtubePreview : "{slider.options.youtubePreview}",</f:if>
            <f:if condition="{slider.options.autoStart}"><f:then>autoStart : true,</f:then><f:else>autoStart : false,</f:else></f:if>
            <f:if condition="{slider.options.twoWaySlideshow}"><f:then>twoWaySlideshow : true,</f:then><f:else>twoWaySlideshow : false,</f:else></f:if>
            <f:if condition="{slider.options.randomSlideshow}"><f:then>randomSlideshow : true,</f:then><f:else>randomSlideshow : false,</f:else></f:if>
            <f:if condition="{slider.options.imgPreload}"><f:then>imgPreload : true,</f:then><f:else>imgPreload : false,</f:else></f:if>
            <f:if condition="{slider.options.pauseOnHover}"><f:then>pauseOnHover : true,</f:then><f:else>pauseOnHover : false,</f:else></f:if>
            <f:if condition="{slider.options.loops}">loops : {slider.options.loops},</f:if>
            <f:if condition="{slider.options.forceLoopNum}"><f:then>forceLoopNum : true,</f:then><f:else>forceLoopNum : false,</f:else></f:if>
            <f:if condition="{slider.options.showBarTimer}"><f:then>showBarTimer : true,</f:then><f:else>showBarTimer : false,</f:else></f:if>
            <f:if condition="{slider.options.showCircleTimer}"><f:then>showCircleTimer : true,</f:then><f:else>showCircleTimer : false,</f:else></f:if>
            <f:if condition="{slider.options.keybNav}"><f:then>keybNav : true,</f:then><f:else>keybNav : false,</f:else></f:if>
            <f:if condition="{slider.options.navPrevNext}"><f:then>navPrevNext : true,</f:then><f:else>navPrevNext : false,</f:else></f:if>
            <f:if condition="{slider.options.navStartStop}"><f:then>navStartStop : true,</f:then><f:else>navStartStop : false,</f:else></f:if>
            <f:if condition="{slider.options.navButtons}"><f:then>navButtons : true,</f:then><f:else>navButtons : false,</f:else></f:if>
            <f:if condition="{slider.options.hoverPrevNext}"><f:then>hoverPrevNext : true,</f:then><f:else>hoverPrevNext : false,</f:else></f:if>
            <f:if condition="{slider.options.hoverBottomNav}"><f:then>hoverBottomNav : true,</f:then><f:else>hoverBottomNav : false,</f:else></f:if>
            <f:if condition="{slider.options.thumbnailNavigation}">thumbnailNavigation : "{slider.options.thumbnailNavigation}",</f:if>
            <f:if condition="{slider.options.tnWidth}">tnWidth : "{slider.options.tnWidth}",</f:if>
            <f:if condition="{slider.options.tnHeight}">tnHeight : "{slider.options.tnHeight}",</f:if>
            <f:if condition="{slider.options.tnContainerWidth}">tnContainerWidth : "{slider.options.tnContainerWidth}",</f:if>
            <f:if condition="{slider.options.tnActiveOpacity}">tnActiveOpacity : {slider.options.tnActiveOpacity},</f:if>
            <f:if condition="{slider.options.tnInactiveOpacity}">tnInactiveOpacity : {slider.options.tnInactiveOpacity},</f:if>
            <f:if condition="{slider.options.slideDelay}">slideDelay : {slider.options.slideDelay},</f:if>
            <f:if condition="{slider.options.slideDirection}">slideDirection : '{slider.options.slideDirection}',</f:if>
            <f:if condition="{slider.options.durationIn}">durationIn : {slider.options.durationIn},</f:if>
            <f:if condition="{slider.options.durationOut}">durationOut : {slider.options.durationOut},</f:if>
            <f:if condition="{slider.options.delayIn}">delayIn : {slider.options.delayIn},</f:if>
            <f:if condition="{slider.options.delayOut}">delayOut : {slider.options.delayOut},</f:if>
            <f:if condition="{slider.options.easingIn}">easingIn : "{slider.options.easingIn}",</f:if>
            <f:if condition="{slider.options.easingOut}">easingOut : "{slider.options.easingOut}",</f:if>
            <f:if condition="{slider.options.responsive}"><f:then>responsive : true,</f:then><f:else>responsive : false,</f:else></f:if>
            <f:if condition="{slider.options.responsiveUnder} > 0"><f:then>responsiveUnder : {slider.options.responsiveUnder},</f:then><f:else>responsiveUnder : false,</f:else></f:if>
            <f:if condition="{slider.options.responsiveUnder} > 0"><f:then>layersContainer : {slider.options.responsiveUnder},</f:then><f:else>responsiveUnder : false,</f:else></f:if>
            <f:if condition="{slider.options.touchNav}"><f:then>touchNav : true,</f:then><f:else>touchNav : false,</f:else></f:if>
            <f:if condition="{slider.options.globalBGColor}">globalBGColor : "{slider.options.globalBGColor}",</f:if>
            <f:if condition="{0:slider.options.globalBGImage}=={0:'false'}"><f:then>globalBGImage: false,</f:then><f:else></f:else>globalBGImage : "{slider.options.globalBGImage}",</f:if>
            lastNothingForSyntaxComma: false
            };

        </script>
    </f:then>
    <f:else>
        <p>You forgot to include the static extension template in the root template!</p>
    </f:else>
</f:if>

